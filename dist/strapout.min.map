{"version":3,"file":"strapout.min.js","sources":["strapout.js"],"names":["root","factory","define","amd","ko","Error","jQuery","strapout","$","this","setObservableProperty","property","src","target","isObservable","createObservable","value","observable","initBindingHandler","Type","initMethod","element","valueAccessor","allBindings","instance","params","closestMarker","marker","closest","Modal","options","isOpen","defaultOptions","_needsToAppend","show","prototype","open","appendTo","modal","close","extend","arguments","length","utils","objectForEach","extendOne","bind","name","method","init","viewModel","bindingContext","onShow","onHidden","closeOnEscape","self","has","get","isSubscribable","subscribe","newValue","e","which","window","on","off","isWriteableObservable","domNodeDisposal","addDisposeCallback","controlsDescendantBindings","bindingHandlers","Dropdown","_forceClose","_isOpening","$element","$elementParent","$target","onShown","onHide","onStickyClick","onStickyDataApi","attr","dropdown","parent","children","sticky","siblings","remove","$original","originalEvent","isException","include","each","index","item","v","force","toggle","Popover","title","content","template","popover","data","$tip","tip","hasClass","dispose","CheckButton","selected","observableArray","find","input","applyBindingsToNode","event","change","checked","filter","prop","push","val","button","RadioButton","StateButton","state","states","default","text","action","next","addState","set","actionResult","currentState","apply","then","result","reset","nextState","click","ToggleButton","active","tabs","wrap","object","TabList","currentTab","Tab","container","CONTAINER_MARKER","add","tab","addClass","link","addTab","closestTabList","call","prev","relatedTarget","contextFor","$data","not","context","bindings","provider","bindingProvider","getBindingAccessors","Tooltip","tooltip","onHIdden","Collapse","enabled","trigger","initCollapse","bindingParams","collapse"],"mappings":"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","sourcesContent":["(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('strapout', ['jquery', 'knockout'], factory);\r\n    } else {\r\n        if(typeof root.ko === 'undefined') {\r\n            throw new Error('knockoutjs is required for strapout.');\r\n        }\r\n        if(typeof root.jQuery === 'undefined') {\r\n            throw new Error('jQuery is required for strapout.');\r\n        }\r\n        root.strapout = factory(root.$, root.ko);\r\n    }\r\n}(this, function ($, ko) {\r\nvar strapout = {};\r\n/**\r\n * Sets a property from one object to another, trying to preserve the 'observability' of the objects\r\n * @param property\r\n * @param src\r\n * @param target\r\n */\r\nfunction setObservableProperty(property, src, target) {\r\n    if(typeof src[property] === 'undefined') {\r\n        return;\r\n    }\r\n    if(ko.isObservable(src[property])) {\r\n        target[property] = src[property];\r\n        return;\r\n    }\r\n    target[property](src[property]);\r\n}\r\n\r\n/**\r\n * Creates an observable based on the value supplied\r\n * @param value - Either a value or an observable\r\n * @returns {*} - If value is observable already, returns value.  Otherwise wraps value in an observable.\r\n */\r\nfunction createObservable(value) {\r\n    return ko.isObservable(value) ? value : ko.observable(value);\r\n}\r\n\r\nfunction initBindingHandler(Type, initMethod) {\r\n    return function (element, valueAccessor, allBindings) {\r\n        var params = valueAccessor(),\r\n            instance;\r\n\r\n        instance = (params instanceof Type) ? params : new Type();\r\n        initMethod = initMethod || 'init';\r\n\r\n        return instance[initMethod](element, valueAccessor, allBindings);\r\n    };\r\n}\r\n\r\nfunction closestMarker(element, marker) {\r\n    return $(element).closest('[data-marker=\"' + marker + '\"]')[0];\r\n}\r\nstrapout.Modal = (function() {\r\n\r\n    var defaultOptions = {\r\n        show: false\r\n    };\r\n\r\n    function Modal(options) {\r\n        options = options || {};\r\n\r\n        this.isOpen = ko.observable(false);\r\n        this.options = defaultOptions;\r\n        this.element = null;\r\n\r\n        this._needsToAppend = false;\r\n    }\r\n\r\n    Modal.prototype.open = function() {\r\n        if(this._needsToAppend) {\r\n            $(this.element).appendTo(this.options.appendTo);\r\n            this._needsToAppend = false;\r\n        }\r\n        $(this.element).modal('show');\r\n    };\r\n\r\n    Modal.prototype.close = function() {\r\n        $(this.element).modal('hide');\r\n    };\r\n\r\n    Modal.prototype.extend = function() {\r\n        if(arguments.length === 1) {\r\n            ko.utils.objectForEach(arguments[0], this.extendOne.bind(this));\r\n            return this;\r\n        }\r\n        if(arguments.length === 2) {\r\n            this.extendOne(arguments[0], arguments[1]);\r\n            return this;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    Modal.prototype.extendOne = function(name, method) {\r\n        if(typeof this[name] !== 'undefined') return false;\r\n\r\n        this[name] = method;\r\n    };\r\n\r\n    Modal.prototype.init = function(element, valueAccessor, allBindings, viewModel, bindingContext) {\r\n        var self = this,\r\n            params,\r\n            onShow,\r\n            onHidden,\r\n            closeOnEscape;\r\n\r\n        params = valueAccessor();\r\n        this.element = element;\r\n\r\n        if(params instanceof Modal) {\r\n            if(allBindings.has('modalOptions')) {\r\n                this.options = $.extend(this.options, allBindings.get('modalOptions'));\r\n            }\r\n        }\r\n        else {\r\n            setObservableProperty('isOpen', params, this);\r\n            if(params.options) {\r\n                this.options = $.extend(this.options, params.options);\r\n            }\r\n        }\r\n        this.isOpen(this.options.show);\r\n\r\n        if(this.options.appendTo) {\r\n            this._needsToAppend = true;\r\n        }\r\n        $(element).modal(this.options);\r\n\r\n        if(this.isOpen && ko.isSubscribable(this.isOpen)) {\r\n            this.isOpen.subscribe(function(newValue) {\r\n                if(!!newValue) {\r\n                    self.open();\r\n                }\r\n                else {\r\n                    self.close();\r\n                    $(element).modal('hide');\r\n                }\r\n            })\r\n        }\r\n\r\n        closeOnEscape = function(e) {\r\n            e.which === 27 && self.close();\r\n        };\r\n        onShow = function() {\r\n            self.isOpen(true);\r\n            $(window).on('keydown', closeOnEscape);\r\n        };\r\n        onHidden = function() {\r\n            self.isOpen(false);\r\n            $(window).off('keydown', closeOnEscape);\r\n        };\r\n\r\n        if(ko.isWriteableObservable(this.isOpen)) {\r\n            $(element).on('show.bs.modal', onShow);\r\n            $(element).on('hidden.bs.modal', onHidden);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                $(element).off('show.bs.modal', onShow);\r\n                $(element).off('hidden.bs.modal', onHidden);\r\n            });\r\n        }\r\n\r\n        // inner elements are already bound\r\n        return {\r\n            controlsDescendantBindings: false\r\n        };\r\n    };\r\n\r\n    ko.bindingHandlers['modal'] = {\r\n        init: initBindingHandler(Modal)\r\n    };\r\n\r\n    return Modal;\r\n})();\r\n// TODO: Implement 'manual' option\r\n\r\nstrapout.Dropdown = (function() {\r\n\r\n    function Dropdown(params) {\r\n        params = params || {};\r\n\r\n        this.isOpen = createObservable(params.isOpen || false);\r\n        this.element = null;\r\n        this.options = $.extend({}, params.options);\r\n\r\n        this._forceClose = false; //used to determine if dropdown should close if sticky option is enabled.\r\n        this._isOpening = false;\r\n    }\r\n\r\n    Dropdown.prototype.init = function(element, valueAccessor, allBindings) {\r\n        var self = this,\r\n            params,\r\n            $element,\r\n            $elementParent,\r\n            $target,\r\n            onShow,\r\n            onShown,\r\n            onHide,\r\n            onHidden,\r\n            onStickyClick,\r\n            onStickyDataApi;\r\n\r\n        params = valueAccessor();\r\n\r\n        if(!(params instanceof Dropdown) && ko.isObservable(params)) {\r\n            this.isOpen = params;\r\n        }\r\n\r\n        if(allBindings.has('dropdownOptions')) {\r\n            this.options = $.extend(this.options, allBindings.get('dropdownOptions'));\r\n        }\r\n\r\n        // initialize the plugin\r\n        this.element = element;\r\n\r\n        // required by bootstrap\r\n        $element = $(element);\r\n        if (!$element.attr('data-toggle')) {\r\n            $element.attr('data-toggle', 'dropdown');\r\n        }\r\n        $element.dropdown();\r\n        $elementParent = $element.parent();\r\n\r\n        if($element.attr('data-target')) {\r\n            $target = $($element.attr('data-target'));\r\n        }\r\n        else {\r\n            $target = $($elementParent.children().get(1));\r\n        }\r\n\r\n        onShow = function(e) {\r\n            if(self.isOpen()) {\r\n                return false;\r\n            }\r\n            if(self.options.sticky) {\r\n                self._isOpening = true;\r\n            }\r\n        };\r\n\r\n        onShown = function(e) {\r\n            self.isOpen(true);\r\n            if(self.options.sticky) {\r\n                $(element).siblings('.dropdown-backdrop').remove();\r\n            }\r\n        };\r\n\r\n        onHide = function(e) {\r\n            if(!self.isOpen() || (self.options.sticky && !self._forceClose)) {\r\n                return false;\r\n            }\r\n            if(self.options.sticky && self._forceClose) {\r\n                self._forceClose = false;\r\n            }\r\n        };\r\n\r\n        onHidden = function(e) {\r\n            self.isOpen(false);\r\n        };\r\n\r\n        onStickyClick = function(e) {\r\n            if(!self._isOpening && self.isOpen()) {\r\n                self.close(true);\r\n            }\r\n            if(self._isOpening) {\r\n                self._isOpening = false;\r\n            }\r\n        };\r\n\r\n        onStickyDataApi = function(e) {\r\n            // check to see if user clicked outside of dropdown element\r\n\r\n            var $original = $(e.originalEvent.target),\r\n                isException = false;\r\n\r\n            if(self.options.include) {\r\n                $.each(self.options.include, function(index, item) {\r\n                    if(!isException && $original.closest(item).length) {\r\n                        isException = true;\r\n                    }\r\n                });\r\n            }\r\n            if (!self._isOpening && $original.closest($target).length == 0) {\r\n                !isException && self.close(true);\r\n            }\r\n            if(self._isOpening) {\r\n                self._isOpening = false;\r\n            }\r\n        };\r\n\r\n        if(ko.isWriteableObservable(this.isOpen)) {\r\n            $elementParent.on('show.bs.dropdown', onShow);\r\n            $elementParent.on('shown.bs.dropdown', onShown);\r\n            $elementParent.on('hide.bs.dropdown', onHide);\r\n            $elementParent.on('hidden.bs.dropdown', onHidden);\r\n            if(this.options.sticky) {\r\n                $(element).on('click.bs.dropdown', onStickyClick);\r\n                $(window).on('click.bs.dropdown.data-api', onStickyDataApi);\r\n            }\r\n        }\r\n\r\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n            $elementParent.off('show.bs.dropdown', onShow);\r\n            $elementParent.off('shown.bs.dropdown', onShown);\r\n            $elementParent.off('hide.bs.dropdown', onHide);\r\n            $elementParent.off('hidden.bs.dropdown', onHidden);\r\n            if(self.options.sticky) {\r\n                $(element).off('click.bs.dropdown', onStickyClick);\r\n                $(window).off('click.bs.dropdown.data-api', onStickyDataApi);\r\n            }\r\n        });\r\n\r\n        // propagate observable changes to bootstrap\r\n        if(ko.isSubscribable(this.isOpen)) {\r\n            this.isOpen.subscribe(function (v) {\r\n                self[!!v ? 'open' : 'close']();\r\n            });\r\n        }\r\n    };\r\n\r\n    Dropdown.prototype.open = function() {\r\n        if(!this.isOpen()) {\r\n            $(this.element).dropdown('toggle');\r\n        }\r\n    };\r\n\r\n    Dropdown.prototype.close = function(force) {\r\n        if(this.isOpen()) {\r\n            if(force && this.options.sticky) {\r\n                this._forceClose = true;\r\n            }\r\n            $(this.element).dropdown('toggle');\r\n        }\r\n    };\r\n\r\n    Dropdown.prototype.toggle = function(force) {\r\n        if(this.isOpen()) {\r\n            if(force && this.options.sticky) {\r\n                this._forceClose = true;\r\n            }\r\n        }\r\n        $(this.element).dropdown('toggle');\r\n    };\r\n\r\n    ko.bindingHandlers['dropdown'] = {\r\n        'init': initBindingHandler(Dropdown)\r\n    };\r\n\r\n    return Dropdown;\r\n})();\r\n/**\r\n * ViewModel / Binding for a bootstrap popover\r\n * 12/5/2014 - Added comments, constructor options\r\n */\r\nstrapout.Popover = (function() {\r\n\r\n    function Popover(params) {\r\n        params = params || {};\r\n\r\n        this.title = createObservable(params.title);\r\n        this.content = createObservable(params.content); // body text\r\n        this.isOpen = createObservable(params.isOpen || false);\r\n        this.template = createObservable(params.template);\r\n        this.options = params.options || {};\r\n        this.element = null;\r\n    }\r\n\r\n    /**\r\n     * Initializes a popover (via popover binding)\r\n     * @param element - The dom element to which the popover is being bound\r\n     * @param valueAccessor - The value of the expression being passed to the binding\r\n     *\r\n     *  - If the binding is an instance of Popover, then we should go look for\r\n     *    popoverOptions to find additional options possibly passed to the popover\r\n     *\r\n     *  - If the binding is not an instance of Popover, then we look to see if the\r\n     *    individual properties that make up a popover have been passed to the binding\r\n     *\r\n     * @param allBindings\r\n     *\r\n     * TODO: Break this into smaller methods possibly\r\n     */\r\n    Popover.prototype.init = function(element, valueAccessor, allBindings) {\r\n        var self = this,\r\n            params,\r\n            onShow,\r\n            onShown,\r\n            onHide,\r\n            onHidden;\r\n\r\n        params = valueAccessor();\r\n\r\n        if(params instanceof Popover) {\r\n            if(allBindings.has('popoverOptions')) {\r\n                $.extend(this.options, allBindings.get('popoverOptions'));\r\n            }\r\n        }\r\n        else {\r\n            setObservableProperty('title', params, this);\r\n            setObservableProperty('content', params, this);\r\n            setObservableProperty('isOpen', params, this);\r\n            setObservableProperty('template', params, this);\r\n            if (params.options) {\r\n                $.extend(this.options, params.options);\r\n            }\r\n        }\r\n        // set title from options and ensure options is set from current value of title\r\n        if(this.options.title) {\r\n            this.title(this.options.title);\r\n        }\r\n        else if(typeof this.title() !== 'undefined') {\r\n            this.options.title = this.title();\r\n        }\r\n\r\n        // set content from options and ensure options is set from current value of content\r\n        if(this.options.content) {\r\n            this.content(this.options.content);\r\n        }\r\n        else if(typeof this.content() !== 'undefined') {\r\n            this.options.content = this.content();\r\n        }\r\n\r\n        if(this.options.template) {\r\n            this.template(this.options.template);\r\n        }\r\n        else if(typeof this.template() !== 'undefined') {\r\n            this.options.template = this.template();\r\n        }\r\n\r\n        // initialize the plugin\r\n        this.element = element;\r\n        $(element).popover(this.options);\r\n\r\n        onShow = function() {\r\n            if(self.isOpen()) {\r\n                return false;\r\n            }\r\n        };\r\n        onShown = function() {\r\n            self.isOpen(true);\r\n        };\r\n        onHide = function() {\r\n            if(!self.isOpen()) {\r\n                return false;\r\n            }\r\n        };\r\n        onHidden = function() {\r\n            self.isOpen(false);\r\n        };\r\n\r\n        // subscribe to popover events\r\n        if(ko.isWriteableObservable(this.isOpen)) {\r\n            $(element).on('show.bs.popover', onShow);\r\n            $(element).on('shown.bs.popover', onShown);\r\n            $(element).on('hide.bs.popover', onHide);\r\n            $(element).on('hidden.bs.popover', onHidden);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                $(element).off('show.bs.popover', onShow);\r\n                $(element).off('shown.bs.popover', onShown);\r\n                $(element).off('hide.bs.popover', onHide);\r\n                $(element).off('hidden.bs.popover', onHidden);\r\n            });\r\n        }\r\n\r\n        // propagate observable changes to bootstrap\r\n        if(ko.isSubscribable(this.isOpen)) {\r\n            this.isOpen.subscribe(function(v) {\r\n                self[!!v ? 'open' : 'close']();\r\n            });\r\n        }\r\n        if(ko.isSubscribable(this.title)) {\r\n            this.title.subscribe(function(v) {\r\n                $(element).data('bs.popover').options.title = v;\r\n            });\r\n        }\r\n        if(ko.isSubscribable(this.content)) {\r\n            this.content.subscribe(function(v) {\r\n                $(element).data('bs.popover').options.content = v;\r\n            });\r\n        }\r\n        if(ko.isSubscribable(this.template)) {\r\n            this.template.subscribe(function(v) {\r\n                var popover = $(element).data('bs.popover');\r\n                if(!popover) {\r\n                    popover.options.template = v;\r\n                }\r\n\r\n                /* there be danger here - if the popover is open and we change the $tip\r\n                 * we will remove the reference that bootstrap uses to remove the popover\r\n                 * element */\r\n                else if(popover.$tip) {\r\n                    if(popover.tip().hasClass('in')) {\r\n                        self.close();\r\n                    }\r\n\r\n                    popover.$tip = $(v);\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    /** Opens the popover */\r\n    Popover.prototype.open = function() {\r\n        if(!this.isOpen()) {\r\n            $(this.element).popover('show');\r\n        }\r\n    };\r\n\r\n    /** Closes the popover */\r\n    Popover.prototype.close = function() {\r\n        if(this.isOpen()) {\r\n            $(this.element).popover('hide');\r\n        }\r\n    };\r\n\r\n    /** Toggles the popover */\r\n    Popover.prototype.toggle = function() {\r\n        $(this.element).popover('toggle');\r\n    };\r\n\r\n    /** Disposes of the popover */\r\n    Popover.prototype.dispose = function() {\r\n        $(this.element).popover('destroy');\r\n    };\r\n\r\n    ko.bindingHandlers['popover'] = {\r\n        init: initBindingHandler(Popover)\r\n    };\r\n\r\n    return Popover;\r\n})();\r\nstrapout.CheckButton = (function() {\r\n\r\n    function CheckButton() {\r\n        this.element = null;\r\n        this.selected = ko.observableArray();\r\n    }\r\n\r\n    CheckButton.prototype.init = function (element, valueAccessor) {\r\n        var self = this,\r\n            params,\r\n            $element;\r\n\r\n        params = valueAccessor();\r\n        if (params instanceof CheckButton) {\r\n        }\r\n        else {\r\n            setObservableProperty('selected', params, this);\r\n        }\r\n\r\n        this.element = element;\r\n        $element = $(element);\r\n\r\n        if (!$element.attr('data-toggle')) {\r\n            $element.attr('data-toggle', 'buttons');\r\n        }\r\n\r\n        $element.find('input[type=\"checkbox\"]').each(function () {\r\n            var input = this;\r\n            ko.applyBindingsToNode(input, {\r\n                /** bootstrap doesn't play nice with knockout and checked binding.\r\n                 * bootstrap stops event propagation before click would be called.\r\n                 * TODO: make a binding to use for this */\r\n                'event': {\r\n                    'change': function () {\r\n                        var checked = $(input).filter(':checkbox').prop('checked');\r\n                        if (checked) {\r\n                            self.selected.push($(input).val());\r\n                        }\r\n                        else {\r\n                            self.selected.remove($(input).val());\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        $element.button();\r\n\r\n        return {\r\n            controlsDescendantBindings: false\r\n        };\r\n    };\r\n\r\n    ko.bindingHandlers['checkButton'] = {\r\n        init: initBindingHandler(CheckButton)\r\n    };\r\n\r\n    return CheckButton;\r\n})();\r\nstrapout.RadioButton = (function() {\r\n\r\n    function RadioButton() {\r\n        this.element = null;\r\n        this.selected = ko.observable();\r\n    }\r\n\r\n    RadioButton.prototype.init = function(element, valueAccessor) {\r\n        var self = this,\r\n            params,\r\n            $element;\r\n\r\n        params = valueAccessor();\r\n        if(params instanceof RadioButton) {\r\n        }\r\n        else {\r\n            setObservableProperty('selected', params, this);\r\n        }\r\n\r\n        this.element = element;\r\n        $element = $(element);\r\n\r\n        if(!$element.attr('data-toggle')) {\r\n            $element.attr('data-toggle', 'buttons');\r\n        }\r\n\r\n        $element.find('input[type=\"radio\"]').each(function() {\r\n            var input = this;\r\n            ko.applyBindingsToNode(input, {\r\n                /** bootstrap doesn't play nice with knockout and checked binding.\r\n                 * bootstrap stops event propagation before click would be called.\r\n                 * TODO: make a binding to use for this */\r\n                'event': {\r\n                    'change': function () {\r\n                        var checked = $(input).filter(':radio').prop('checked');\r\n                        if(checked) {\r\n                            self.selected($(input).val());\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        $element.button();\r\n\r\n        return {\r\n            controlsDescendantBindings: false\r\n        };\r\n    };\r\n\r\n    ko.bindingHandlers['radioButton'] = {\r\n        init: initBindingHandler(RadioButton)\r\n    };\r\n\r\n    return RadioButton;\r\n})();\r\nstrapout.StateButton = (function() {\r\n\r\n    function StateButton() {\r\n        this.state = ko.observable('default');\r\n        this.states = {\r\n            'default': {\r\n                text: null,\r\n                action: null,\r\n                next: null\r\n            }\r\n        };\r\n        this.element = null;\r\n    }\r\n\r\n    StateButton.prototype.addState = function(state, options) {\r\n        if(typeof options === 'String') {\r\n            this.states[state] = {\r\n                text: options,\r\n                action: null,\r\n                next: null\r\n            }\r\n        }\r\n        else {\r\n            this.states[state] = $.extend({\r\n                text: null,\r\n                action: null,\r\n                next: null\r\n            }, options);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    StateButton.prototype.set = function(state) {\r\n        var self = this,\r\n            actionResult, currentState;\r\n\r\n        currentState = this.states[this.state()];\r\n        if(currentState && typeof currentState.action === 'function') {\r\n            actionResult = currentState.action.apply(this);\r\n        }\r\n\r\n        // check to see if we got a thennable\r\n        if(actionResult && typeof actionResult.then === 'function') {\r\n            actionResult.then(function(result) {\r\n                if(result !== false) {\r\n                    self.state(state);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n\r\n            // synchronous results prevent moving to next state if action result handler returns false\r\n            if (actionResult !== false) {\r\n                this.state(state);\r\n            }\r\n        }\r\n    };\r\n\r\n    StateButton.prototype.reset = function() {\r\n        this.state('default');\r\n    };\r\n\r\n    StateButton.prototype.action = function(state, action) {\r\n        this.states[state].action = action;\r\n        return this;\r\n    };\r\n\r\n    StateButton.prototype.next = function() {\r\n        if(arguments.length === 2) {\r\n            var state = arguments[0],\r\n                nextState = arguments[1];\r\n\r\n            this.states[state].next = nextState;\r\n            return this;\r\n        }\r\n\r\n        // go to next defined state\r\n        var currentState = this.states[this.state()];\r\n        if(currentState && currentState.next !== null) {\r\n            this.set(currentState.next);\r\n        }\r\n    };\r\n\r\n    StateButton.prototype.init = function (element, valueAccessor, allBindings) {\r\n        var self = this,\r\n            params,\r\n            $element;\r\n\r\n        params = valueAccessor();\r\n\r\n        if(params instanceof StateButton) {\r\n        }\r\n        else {\r\n            setObservableProperty('state', params, this);\r\n        }\r\n\r\n        this.element = element;\r\n        $element = $(element);\r\n        ko.utils.objectForEach(this.states, function(property, value) {\r\n            if(property === 'default') return;\r\n            if($element.attr('data-' + property + '-text')) return;\r\n\r\n            $element.attr('data-' + property + '-text', value.text);\r\n        });\r\n\r\n        $element.button();\r\n\r\n        this.state.subscribe(function(v) {\r\n            if(typeof v === 'undefined' || v === 'default') {\r\n                $(element).button('reset');\r\n                return;\r\n            }\r\n            $(element).button(v);\r\n        });\r\n\r\n        if(!allBindings.has('click')) {\r\n            ko.applyBindingsToNode(element, {\r\n                'click': function() {\r\n                    return self.next();\r\n                }\r\n            })\r\n        }\r\n\r\n        return {\r\n            controlsDescendantBindings: false\r\n        };\r\n    };\r\n\r\n    ko.bindingHandlers['stateButton'] = {\r\n        init: initBindingHandler(StateButton)\r\n    };\r\n\r\n\r\n    return StateButton;\r\n})();\r\n\r\nstrapout.ToggleButton = (function() {\r\n\r\n    function ToggleButton() {\r\n        this.active = ko.observable(false);\r\n        this.element = null;\r\n    }\r\n\r\n    ToggleButton.prototype.toggle = function() {\r\n        this.active(!this.active());\r\n\r\n        $(this.element).button('active');\r\n\r\n        return false;\r\n    };\r\n\r\n    ToggleButton.prototype.init = function(element, valueAccessor) {\r\n        var self = this,\r\n            params,\r\n            $element;\r\n\r\n        params = valueAccessor();\r\n\r\n        if(params instanceof ToggleButton) {\r\n        }\r\n        else {\r\n            setObservableProperty('active', params, this);\r\n        }\r\n\r\n        this.element = element;\r\n        $element = $(element);\r\n        $element.button();\r\n\r\n        // if data-toggle doesn't exist, create it on the element.\r\n        if(!$element.attr('data-toggle')) {\r\n            $element.attr('data-toggle', 'button');\r\n        }\r\n\r\n        ko.applyBindingsToNode(element, {\r\n            'click': function() {\r\n                return self.toggle();\r\n            }\r\n        });\r\n\r\n        return {\r\n            controlsDescendantBindings: false\r\n        };\r\n    };\r\n\r\n    ko.bindingHandlers['toggleButton'] = {\r\n        init: initBindingHandler(ToggleButton)\r\n    };\r\n\r\n    return ToggleButton;\r\n})();\r\n\r\nvar tabs = (function() {\r\n    var CONTAINER_MARKER = 'tabContainer';\r\n\r\n    function wrap(object) {\r\n        if(ko.isObservable(object)) {\r\n            return object;\r\n        }\r\n        return ko.observable(object);\r\n    }\r\n\r\n    function TabList() {\r\n        this.element = null;\r\n        this.tabs = [];\r\n        this.content = {};\r\n        this.currentTab = ko.observable();\r\n    }\r\n\r\n    TabList.prototype.init = function(element, viewModel, allBindings) {\r\n        var self = this,\r\n            params,\r\n            $element;\r\n\r\n        this.element = element;\r\n\r\n        $element = $(element);\r\n        if(!$element.attr('data-marker')) {\r\n            $element.attr('data-marker', CONTAINER_MARKER);\r\n        }\r\n    };\r\n\r\n    TabList.prototype.add = function(tab) {\r\n        var self = this,\r\n            index = this.tabs.length;\r\n        this.tabs.push(tab);\r\n\r\n        if(!index && this.element) {\r\n            // default first tab to be active\r\n            $(this.element).parent().addClass('active');\r\n        }\r\n\r\n        tab.index = index;\r\n        tab.container = this;\r\n\r\n        tab.active.subscribe(function(active) {\r\n            if(active) {\r\n                self.currentTab(tab);\r\n            }\r\n        });\r\n        if(tab.active()) {\r\n            self.currentTab(tab);\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    TabList.prototype.link = function(content, index) {\r\n        this.content[index] = content;\r\n    };\r\n\r\n    TabList.prototype.addTab = function(title, target, active) {\r\n        active = active || false;\r\n        this.add(new Tab({\r\n            title: title,\r\n            target: target,\r\n            active: active\r\n        }));\r\n\r\n        return this;\r\n    };\r\n\r\n    ko.bindingHandlers['tabList'] = {\r\n        init: initBindingHandler(TabList)\r\n    };\r\n\r\n    function Tab(options) {\r\n        $.extend(this, options);\r\n\r\n        this.container = null;\r\n        this.index = null;\r\n        this.active = wrap(this.active);\r\n        this.element = null;\r\n        this.title = wrap(this.title);\r\n        if(!this.target && this.title()) {\r\n            this.target = '#' + this.title();\r\n        }\r\n    }\r\n\r\n    Tab.prototype.init = function(element, valueAccessor, allBindings) {\r\n        var self = this,\r\n            container,\r\n            params = valueAccessor();\r\n\r\n        this.element = element;\r\n        if(params instanceof Tab) {\r\n        }\r\n        else {\r\n            container = this.closestTabList(element);\r\n            container.add(this);\r\n            setObservableProperty('title', params, this);\r\n        }\r\n\r\n        if(!allBindings.has('text')) {\r\n            ko.applyBindingsToNode(element, {\r\n                'text': this.title\r\n            });\r\n        }\r\n\r\n        $(element).on('show.bs.tab', function(e) {\r\n            var result;\r\n            if(typeof self.onShow === 'function') {\r\n                result = self.onShow.call(self);\r\n            }\r\n            return result;\r\n        });\r\n        $(element).on('shown.bs.tab', function(e) {\r\n            var prev;\r\n            if(e.relatedTarget) {\r\n                prev = ko.contextFor(e.relatedTarget);\r\n            }\r\n            self.active(true);\r\n            if(prev) {\r\n                prev.$data.active(false);\r\n            }\r\n            if(typeof self.onShown === 'function') {\r\n                self.onShown.call(self);\r\n            }\r\n        });\r\n\r\n        if (!$(element).attr('data-toggle')) {\r\n            $(element).attr('data-toggle', 'tab');\r\n        }\r\n\r\n        if(!($(element).attr('data-target') || $(element).attr('href'))) {\r\n            $(element).attr('data-target', this.target);\r\n        }\r\n\r\n\r\n        if(this.active()) {\r\n            if($(element).closest('li').not('active')) {\r\n                $(element).closest('li').addClass('active');\r\n            }\r\n            if($(this.target).not('active')) {\r\n                $(this.target).addClass('active');\r\n            }\r\n        }\r\n    };\r\n\r\n    Tab.prototype.show = function() {\r\n        $(this.element).tab('show');\r\n    };\r\n\r\n    Tab.prototype.closestTabList = function(element) {\r\n        var closest = closestMarker(element, CONTAINER_MARKER),\r\n            provider = ko.bindingProvider['instance'],\r\n            context, bindings;\r\n\r\n        context = ko.contextFor(closest);\r\n        bindings = provider.getBindingAccessors(closest, context);\r\n        if(bindings && bindings['tabList']) {\r\n            return bindings['tabList']();\r\n        }\r\n    };\r\n\r\n    ko.bindingHandlers['tab'] = {\r\n        init: initBindingHandler(Tab)\r\n    };\r\n\r\n    ko.bindingHandlers['tabContent'] = {\r\n        init: function(element, valueAccessor, allBindings) {\r\n\r\n        }\r\n    };\r\n\r\n    return {\r\n        TabList: TabList,\r\n        Tab: Tab\r\n    };\r\n})();\r\n\r\nstrapout.TabList = tabs.TabList;\r\nstrapout.Tab = tabs.Tab;\r\n/**\r\n * ViewModel for a bootstrap tooltip\r\n * 12/5/2014 - Added comments, constructor options\r\n */\r\nstrapout.Tooltip = (function() {\r\n    /**\r\n     * Represents a bootstrap tooltip\r\n     * @constructor\r\n     */\r\n    function Tooltip(params) {\r\n        params = params || {};\r\n\r\n        this.title = createObservable(params.title);\r\n        this.isOpen = createObservable(params.isOpen || false);\r\n        this.options = params.options || {};\r\n\r\n        /** Set by knockout binding */\r\n        this.element = null;\r\n    }\r\n\r\n    /**\r\n     * Initializes a tooltip (via Tooltip binding)\r\n     * @param element - The dom element to which the tooltip is being bound\r\n     * @param valueAccessor - The value of the expression being passed to the binding\r\n     *\r\n     *  - If the binding is an instance of Tooltip, then we should go look for\r\n     *    tooltipOptions to find additional options possibly passed to the tooltip\r\n     *\r\n     *  - If the binding is not an instance of Tooltip, then we look to see if the\r\n     *    individual properties that make up a tooltip have been passed to the binding\r\n     *\r\n     * @param allBindings\r\n     *\r\n     * TODO: Break this into smaller methods possibly\r\n     */\r\n    Tooltip.prototype.init = function(element, valueAccessor, allBindings) {\r\n        var self = this,\r\n            params,\r\n            onShow,\r\n            onShown,\r\n            onHide,\r\n            onHidden;\r\n\r\n        params = valueAccessor();\r\n\r\n        if(params instanceof Tooltip) {\r\n            if(allBindings.has('tooltipOptions')) {\r\n                $.extend(this.options, allBindings.get('tooltipOptions'));\r\n            }\r\n        }\r\n        else {\r\n            setObservableProperty('title', params, this);\r\n            setObservableProperty('isOpen', params, this);\r\n            if (params.options) {\r\n                $.extend(this.options, params.options);\r\n            }\r\n        }\r\n        // If we specified a title via some options, make sure we set it\r\n        if(this.options.title) {\r\n            this.title(this.options.title);\r\n        }\r\n        // If we specified a value for title, make sure we set the options so bootstrap will know\r\n        else if(typeof this.title() !== 'undefined') {\r\n            this.options.title = this.title();\r\n        }\r\n\r\n        // initialize the plugin\r\n        this.element = element;\r\n        $(element).tooltip(this.options);\r\n\r\n        onShow = function() {\r\n            if(self.isOpen()) {\r\n                return false;\r\n            }\r\n        };\r\n        onShown = function() {\r\n            self.isOpen(true);\r\n        };\r\n        onHide = function() {\r\n            if(!self.isOpen()) {\r\n                return false;\r\n            }\r\n        };\r\n        onHidden = function() {\r\n            self.isOpen(false);\r\n        };\r\n\r\n        // subscribe to tooltip events\r\n        if(ko.isWriteableObservable(this.isOpen)) {\r\n            $(element).on('show.bs.tooltip', onShow);\r\n            $(element).on('shown.bs.tooltip', onShown);\r\n            $(element).on('hide.bs.tooltip', onHide);\r\n            $(element).on('hidden.bs.tooltip', onHidden);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                $(element).off('show.bs.tooltip', onShow);\r\n                $(element).off('shown.bs.tooltip', onShown);\r\n                $(element).off('hide.bs.tooltip', onHide);\r\n                $(element).off('hidden.bs.tooltip', onHIdden);\r\n            });\r\n        }\r\n\r\n        // propagate observable changes to bootstrap\r\n        if(ko.isSubscribable(this.isOpen)) {\r\n            this.isOpen.subscribe(function(v) {\r\n                self[!!v ? 'open' : 'close']();\r\n            });\r\n        }\r\n        if(ko.isSubscribable(this.title)) {\r\n            this.title.subscribe(function(v) {\r\n                $(element).data('bs.tooltip').options.title = v;\r\n            });\r\n        }\r\n    };\r\n\r\n    /** Opens the tooltip */\r\n    Tooltip.prototype.open = function() {\r\n        if(!this.isOpen()) {\r\n            $(this.element).tooltip('show');\r\n        }\r\n    };\r\n\r\n    /** Closes the tooltip */\r\n    Tooltip.prototype.close = function() {\r\n        if(this.isOpen()) {\r\n            $(this.element).tooltip('hide');\r\n        }\r\n    };\r\n\r\n    /** Toggles the tooltip */\r\n    Tooltip.prototype.toggle = function() {\r\n        $(this.element).tooltip('toggle');\r\n    };\r\n\r\n    /** Disposes of the tooltip */\r\n    Tooltip.prototype.dispose = function() {\r\n        $(this.element).tooltip('destroy');\r\n    };\r\n\r\n    ko.bindingHandlers['tooltip'] = {\r\n        init: initBindingHandler(Tooltip)\r\n    };\r\n\r\n    return Tooltip;\r\n})();\r\nstrapout.Collapse = (function() {\r\n\r\n    function Collapse(params) {\r\n        $.extend(this, {\r\n            isOpen: ko.observable(false),\r\n            enabled: ko.observable(true),\r\n            options: {}\r\n        }, params);\r\n\r\n        this.element = null;\r\n        this.trigger = null;\r\n    }\r\n\r\n    $.extend(Collapse.prototype, {\r\n        'initCollapse': function(element, valueAccessor, allBindings) {\r\n            var self = this,\r\n                bindingParams,\r\n                onShow,\r\n                onShown,\r\n                onHide,\r\n                onHidden;\r\n\r\n            bindingParams = valueAccessor();\r\n            this.element = element;\r\n\r\n            if(bindingParams instanceof Collapse) {\r\n                if(allBindings.has('collapseOptions')) {\r\n                    $.extend(this.options, allBindings.get('collapseOptions'));\r\n                }\r\n            }\r\n            else {\r\n                setObservableProperty('isOpen', bindingParams, this);\r\n                if(bindingParams.options) {\r\n                    $.extend(this.options, bindingParams.options);\r\n                }\r\n            }\r\n            this.isOpen(this.options.show);\r\n\r\n            $(element).collapse(this.options);\r\n\r\n            //if(this.isOpen && ko.isSubscribable(this.isOpen)) {\r\n            //    this.isOpen.subscribe(function(newValue) {\r\n            //        if(newValue) {\r\n            //            $(element).collapse('show');\r\n            //        }\r\n            //        else {\r\n            //            $(element).collapse('hide');\r\n            //        }\r\n            //    });\r\n            //}\r\n\r\n            onShown = function() {\r\n                self.isOpen(true);\r\n            };\r\n            onHidden = function() {\r\n                self.isOpen(false);\r\n            };\r\n\r\n            if(ko.isWriteableObservable(this.isOpen)) {\r\n                if(this.options.toggle) {\r\n                    this.isOpen(true);\r\n                }\r\n                $(element).on('shown.bs.collapse', onShown);\r\n                $(element).on('hidden.bs.collapse', onHidden);\r\n\r\n                ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                    $(element).off('shown.bs.collapse', onShown);\r\n                    $(element).off('show.bs.collapse', onHidden);\r\n                });\r\n            }\r\n\r\n            // inner elements should already be bound\r\n            return {\r\n                controlsDescendantBindings: false\r\n            };\r\n        },\r\n\r\n        'open': function() {\r\n            $(this.element).collapse('show');\r\n        },\r\n\r\n        'close': function() {\r\n            $(this.element).collapse('hide');\r\n        }\r\n    });\r\n\r\n    ko.bindingHandlers['collapse'] = {\r\n        init: initBindingHandler(Collapse, 'initCollapse')\r\n    };\r\n\r\n    return Collapse;\r\n})();\r\n\r\nreturn strapout;\r\n}));"]}